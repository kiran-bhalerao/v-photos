(function(t){function e(e){for(var a,r,c=e[0],s=e[1],u=e[2],p=0,m=[];p<c.length;p++)r=c[p],o[r]&&m.push(o[r][0]),o[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);l&&l(e);while(m.length)m.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,c=1;c<n.length;c++){var s=n[c];0!==o[s]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},o={app:0},i=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=s;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"44ba":function(t,e,n){},"51a2":function(t,e,n){"use strict";var a=n("543f"),o=n.n(a);o.a},"543f":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var a=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("AppHeader"),n("div",{staticClass:"container mt-4"},[n("router-view")],1)],1)},i=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"ui secondary menu",staticStyle:{padding:"10px"}},[n("h3",{staticStyle:{"padding-left":"20px","margin-top":"10px"}},[t._v("V-Photos")]),t.isLoggin?n("div",{staticClass:"right menu"},[n("router-link",{staticClass:"item",attrs:{"exact-active-class":"active",to:"/"}},[t._v(" Galary ")]),n("router-link",{staticClass:"item",attrs:{"exact-active-class":"active",to:"/upload"}},[t._v(" Upload ")]),n("a",{staticClass:"ui item",on:{click:t.logout}},[t._v(" Logout ")])],1):n("div",{staticClass:"right menu"},[n("a",{staticClass:"ui item",on:{click:t.login}},[t._v(" Login wih Imgur ")])])])])},c=[],s=n("be94"),u=n("2f62"),l={name:"AppHeader",methods:Object(s["a"])({},Object(u["c"])(["login","logout"])),computed:Object(s["a"])({},Object(u["d"])(["isLoggin"]))},p=l,m=n("2877"),g=Object(m["a"])(p,r,c,!1,null,null,null);g.options.__file="AppHeader.vue";var f=g.exports,d={name:"App",components:{AppHeader:f}},v=d,h=Object(m["a"])(v,o,i,!1,null,null,null);h.options.__file="App.vue";var b=h.exports,_=(n("ac6a"),n("5df3"),n("1c4c"),n("bc3a")),O=n.n(_),j="83c13788bb66241",k={login:function(){window.location="https://api.imgur.com/oauth2/authorize?client_id=".concat(j,"&response_type=token")},fetchImages:function(t){return O.a.get("https://api.imgur.com/3/account/me/images",{headers:{Authorization:"Bearer ".concat(t)}})},uploadImages:function(t,e){var n=Array.from(t).map(function(t){var n=new FormData;n.append("image",t),O.a.post("https://api.imgur.com/3/image",n,{headers:{Authorization:"Bearer ".concat(e)}})});return Promise.all(n)}},y=n("4328"),w=n.n(y),I=n("8c4f"),x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("\n   Please wait.....\n")])},L=[],A={name:"AuthHandler",methods:Object(s["a"])({},Object(u["c"])(["finalizedLogin"])),created:function(){this.finalizedLogin(window.location.hash)}},C=A,S=Object(m["a"])(C,x,L,!1,null,null,null);S.options.__file="AuthHandler.vue";var P=S.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isLoggin?n("div",{staticClass:"dropper"},[n("input",{attrs:{type:"file",name:"file",id:"file",multiple:"",accept:"image/*"},on:{change:function(e){t.uploadImages(e.target.files)}}}),t._m(0)]):n("div",{staticClass:"text-center"},[n("h2",[t._v("Login to get started")])])])},z=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[n("h2",[t._v("Drop your image here.")])])}],E={name:"UploadForm",methods:Object(s["a"])({},Object(u["c"])(["uploadImages"])),computed:Object(s["a"])({},Object(u["d"])(["isLoggin"]))},H=E,T=(n("51a2"),Object(m["a"])(H,$,z,!1,null,null,null));T.options.__file="UploadForm.vue";var M=T.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isLoggin?n("div",{staticClass:"image-contaier"},t._l(t.getAllImages,function(t){return n("div",{key:t.id,staticClass:"image"},[n("img",{attrs:{src:t.link}})])})):n("div",{staticClass:"text-center"},[n("h2",[t._v("Login to get started")])])])},U=[],B={name:"ImageList",methods:Object(s["a"])({},Object(u["c"])(["fetchImages"])),computed:Object(s["a"])({},Object(u["d"])(["getAllImages","isLoggin"])),created:function(){this.fetchImages()}},D=B,J=(n("7096"),Object(m["a"])(D,F,U,!1,null,"37cb2da6",null));J.options.__file="ImageList.vue";var G=J.exports;a["a"].use(I["a"]);var V=new I["a"]({routes:[{path:"/",component:G},{path:"/upload",component:M},{path:"/oauth2/callback",component:P}]}),q=V,K={token:localStorage.getItem("imgur_token")},N={isLoggin:function(t){return!!t.token}},Q={setToken:function(t,e){t.token=e}},R={logout:function(t){var e=t.commit;e("setToken",null),localStorage.clear()},finalizedLogin:function(t,e){var n=t.commit,a=w.a.parse(e.substring(1));n("setToken",a.access_token),localStorage.setItem("imgur_token",a.access_token),console.log(a.access_token),q.push("/")},login:function(){k.login()}},W={state:K,actions:R,mutations:Q,getters:N},X={images:[]},Y={getAllImages:function(t){return t.images}},Z={setImages:function(t,e){t.images=e}},tt={fetchImages:function(t){var e=t.commit,n=t.rootState,a=n.auth.token;k.fetchImages(a).then(function(t){console.log(t.data.data),e("setImages",t.data.data)}).catch(function(t){console.log(t)})},uploadImages:function(t,e){t.commit;var n=t.rootState,a=n.auth.token;k.uploadImages(e,a).then(function(){q.push("/")})}},et={state:X,getters:Y,actions:tt,mutations:Z};a["a"].use(u["b"]);var nt=new u["a"]({modules:{auth:W,images:et}});new a["a"]({router:q,store:nt,render:function(t){return t(b)}}).$mount("#app")},7096:function(t,e,n){"use strict";var a=n("44ba"),o=n.n(a);o.a}});
//# sourceMappingURL=app.f35c1d0f.js.map